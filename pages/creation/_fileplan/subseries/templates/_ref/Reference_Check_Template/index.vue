<template>
  <div id="letter">
    

    <v-container grid-list-md fluid>
      <v-layout row wrap justify-space-between>
        <v-flex xs4>
            <Toolbar :data="doc" />
        </v-flex>
        <v-flex column xs8>
<v-flex column xs10>

    <h2 align="center">
        <strong>REFERENCE CHECK FORM</strong>
    </h2>
    <br>
    <table border="1" cellspacing="0" cellpadding="0">
        <tbody>
            <tr>
                <td width="174" rowspan="2">
                    <p>
                        <strong>Referee:</strong>
                    </p>
                </td>
                <td width="171" rowspan="2">
                    <p>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="86" rowspan="2">
                    <p>
                        <strong>Referee’s Contacts:</strong>
                    </p>
                </td>
                <td width="101">
                    <p>
                        <strong><em>Office No.:</em></strong>
                    </p>
                </td>
                <td width="133">
                    <p>
                        <strong><em></em></strong>
                    </p>
                </td>
            </tr>
            <tr>
                <td width="101">
                    <p>
                        <strong><em>Cell No.:</em></strong>
                    </p>
                </td>
                <td width="133">
                    <p>
                        <strong><em></em></strong>
                    </p>
                </td>
            </tr>
            <tr>
                <td width="174">
                    <p>
                        <strong>Company/Department:</strong>
                    </p>
                </td>
                <td width="491" colspan="4">
                    <p>
                        <strong><em></em></strong>
                    </p>
                </td>
            </tr>
            <tr>
                <td width="174">
                    <p>
                        <strong>Referee’s position: </strong>
                    </p>
                </td>
                <td width="491" colspan="4">
                    <p>
                        <strong><em></em></strong>
                    </p>
                </td>
            </tr>
        </tbody>
    </table>
    <br>
    <p>
        <strong>NAME OF APPLICANT: ______________________________</strong>
    </p>
    <p>
        <strong></strong>
    </p>
    <p>
        Date of appointment in current position
        __________________________________
    </p>
    <p>
        Is the candidate permanently appointed: <u>Yes/ No</u>
    </p>
    <p>
        If NOT, what is the nature of the appointment:
        _____________________________
    </p>
    <p>
        If on contract/ temporary, when is the end date:
        _____________________________
    </p>

    <br>
    <table border="1" cellspacing="0" cellpadding="0" >
        <tbody>
            <tr>
                <td width="672" valign="top">
                    <p>
                        <strong></strong>
                    </p>
                    <p>
                        <strong></strong>
                    </p>
                  
                    <strong>____________________ </strong>
has been interviewed for the<strong> </strong>position of                    <strong>____________________</strong>: for Head Office
                    Polokwane and he listed, you as one of his referee. We
                    kindly request for your assistance by completing the
                    information required below in respect of her competence as
                    known to you.
                </td>
            </tr>
        </tbody>
    </table>
    <br>
    <p>
        1. The following is lists of competencies that are required by this
        position .Please make a mark next to each competency and rate the
        incumbent as you think is appropriate.
    </p>
    <table border="1" cellspacing="0" cellpadding="0">
        <tbody>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>No:</em></strong>
                    </p>
                </td>
                <td width="132">
                    <p align="center">
                        <strong>COMPETENCY:</strong>
                    </p>
                </td>
                <td width="276">
                    <p align="center">
                        <strong>DEFINITION:</strong>
                    </p>
                </td>
                <td width="53">
                    <p align="center">
                        <strong><em>Below Average</em></strong>
                    </p>
                </td>
                <td width="48">
                    <p align="center">
                        <strong><em>Average</em></strong>
                    </p>
                </td>
                <td width="48">
                    <p align="center">
                        <strong><em>Above Average</em></strong>
                    </p>
                </td>
                <td width="48">
                    <p align="center">
                        <strong><em>Exceptional</em></strong>
                    </p>
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>1. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Problem-solving:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The ability to identify and define a problem
                        effectively (gather and analyze information and create
                        options in order to generate a workable solutions).
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>2. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Judgment:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The ability to differentiate between relevant and
                        irrelevant information and appropriate criteria for
                        weighting it.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>3. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Stress handling:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The capacity to manage disruptive emotions and impulses
                        and remain functional focused and level headed in
                        situations of stress or pressure.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>4. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Objectivity:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The ability to separate own feelings, views, beliefs
                        and attitudes from a situation by remaining
                        non-judgmental.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>5. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Drive/ Initiative:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The orientation towards energetically pursuing goals
                        and activities in a sustainable manner. (Ability to
                        identify and take advantage of opportunities)
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>6. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong>
                            <em>
                                Rule-orientation (achievement through
                                conformity):
                            </em>
                        </strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The ability to achieve results following rules and
                        procedures. Applicable legislation, rules and
                        procedures.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>7. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong>
                            <em>
                                Excellence orientation (concern for high
                                quality work):
                            </em>
                        </strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        Follow-through; the motivation to ensure the highest
                        standards of quality and productivity are consistently
                        maintained (attention to detail consciousness/accuracy
                        /neatness)
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>8. </em></strong>
                       
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Personal Development:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The ability to identify own strengths and weaknesses
                        and the willingness to learn.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>9. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong>
                            <em>
                                Investigative Orientation (probing /information
                                seeking ):
                            </em>
                        </strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The capacity to ask questions, plan ahead and make
                        effective use of resources and expertise to research
                        relevant information.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>10. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Diversity Management:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The capacity to respect and relate well to differences
                        in people (In terms of race culture, nationality gender
                        ethics, religion, etc) value diversity of ideas and
                        create an environment in which diverse people can
                        thrive.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>11. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Teamwork:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The capacity to create group synergy in pursuing
                        collective goals. This includes a capacity to promote a
                        friendly co-operative climate, understand group
                        dynamics and apply appropriate facilitation techniques
                        in working with others to achieve shared goals.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>12. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Conflict Management:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The capacity to utilize the most effective conflict
                        resolution strategies appropriate to the situation.
                        This entails the ability to facilitate a conflict
                        resolution and allow for understanding between
                        different parties.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>13. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>People Management:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The ability to manage and motivate people, provide
                        constructive feedback, coaching, skills training and
                        time lines and performance standards
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>14. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Strategic Planning:</em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The capacity to develop strategies aligned to core
                        business, to anticipate challenges and evaluate
                        alternatives.
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
            <tr>
                <td width="64">
                    <p align="center">
                        <strong><em>15. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="132">
                    <p>
                        <strong><em>Organizing </em></strong>
                    </p>
                </td>
                <td width="276">
                    <p>
                        The ability to co-ordinate tasks required to accomplish
                        goals and assign responsibilities and resources to
                        ensure an efficient/effective flow of work
                    </p>
                </td>
                <td width="53">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
                <td width="48">
                </td>
            </tr>
        </tbody>
    </table>
    <br>
    <table border="1" cellspacing="0" cellpadding="0">
        <tbody>
            <tr>
                <td width="68">
                    <p>
                        <strong><em>16. </em></strong>
                        <strong><em></em></strong>
                    </p>
                </td>
                <td width="127">
                    <p>
                        <strong><em>Monitoring &amp; Evaluation</em></strong>
                    </p>
                </td>
                <td width="268" colspan="2">
                    <p>
                        The capacity to define, encourage and evaluate staff
                        performance in relation to clearly defined objectives,
                        time-lines and performance standards
                    </p>
                </td>
                <td width="50" colspan="2">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="57">
                </td>
            </tr>
            <tr>
                <td width="667" colspan="11">
                    <p align="center">
                        <em></em>
                    </p>
                </td>
            </tr>
            <tr>
                <td width="68" rowspan="6">
                    <p>
                        <strong><em>17.</em></strong>
                    </p>
                </td>
                <td width="131" colspan="2" rowspan="6">
                    <p>
                        <strong><em>Current Position:</em></strong>
                    </p>
                </td>
                <td width="264">
                    <p align="center">
                        <strong><em>CURRENT DUTIES:</em></strong>
                    </p>
                </td>
                <td width="48">
                    <p align="center">
                        <strong><em>Below Average</em></strong>
                    </p>
                </td>
                <td width="48" colspan="2">
                    <p align="center">
                        <strong><em>Average</em></strong>
                    </p>
                </td>
                <td width="48" colspan="2">
                    <p align="center">
                        <strong><em>Above Average</em></strong>
                    </p>
                </td>
                <td width="60" colspan="2">
                    <p align="center">
                        <strong><em>Exceptional</em></strong>
                    </p>
                </td>
            </tr>
            <tr>
                <td width="264">
                    <p>
                        a)
                    </p>
                </td>
                <td width="48">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="60" colspan="2">
                </td>
            </tr>
            <tr>
                <td width="264">
                    <p>
                        b)
                    </p>
                </td>
                <td width="48">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="60" colspan="2">
                </td>
            </tr>
            <tr>
                <td width="264">
                    <p>
                        c)
                    </p>
                </td>
                <td width="48">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="60" colspan="2">
                </td>
            </tr>
            <tr>
                <td width="264">
                    <p>
                        d)
                    </p>
                </td>
                <td width="48">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="60" colspan="2">
                </td>
            </tr>
            <tr>
                <td width="264">
                    <p>
                        e)
                    </p>
                </td>
                <td width="48">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="48" colspan="2">
                </td>
                <td width="60" colspan="2">
                </td>
            </tr>
            <tr>
                <td width="68" rowspan="4">
                    <p>
                        <strong><em>18.</em></strong>
                    </p>
                </td>
                <td width="131" colspan="2" rowspan="4">
                    <p>
                        <strong><em>General Comments:</em></strong>
                    </p>
                    <p>
                        <em>
                            (Any other information which you may wish to bring
                            to the attention about the candidate e.g. pending
                            disciplinary case)
                        </em>
                        <em></em>
                    </p>
                </td>
                <td width="468" colspan="8">
                    
                </td>
            </tr>
            <tr>
                <td width="468" colspan="8">
                    <p>
                        <em></em>
                    </p>
                </td>
            </tr>
            <tr>
                <td width="468" colspan="8">
                    <p>
                        <em></em>
                    </p>
                </td>
            </tr>
            <tr>
                <td width="468" colspan="8">
                    <p>
                        <em></em>
                    </p>
                </td>
            </tr>
            <tr height="0">
                <td width="68">
                </td>
                <td width="127">
                </td>
                <td width="4">
                </td>
                <td width="264">
                </td>
                <td width="48">
                </td>
                <td width="2">
                </td>
                <td width="46">
                </td>
                <td width="2">
                </td>
                <td width="46">
                </td>
                <td width="3">
                </td>
                <td width="57">
                </td>
            </tr>
        </tbody>
    </table>

<strong>
    <br clear="all"/>
</strong>
<p>
    <strong></strong>
</p>
<p>
    <strong>
        I sorely confirm that the information provided above is correct:
    </strong>
    <strong></strong>
</p>
<br>
<table cellpadding="0" cellspacing="0">
    <tbody>
        <tr>
            <td width="24" height="26">
            </td>
        </tr>
        <tr>
            <td>
            </td>
            <td>
           
            </td>
        </tr>
    </tbody>
</table>
</v-flex>

   <!-- sign -->
            <v-flex xs12 class="mt-5">
              <h2>Insert Your Signature</h2>
              <v-flex xs12>
                <p class="text-xs-left">Sign Below</p>
                <VueSignaturePad
                  class="signature-pad"
                  max-width="480px"
                  height="200px"
                  ref="signaturePad"
                  :options="{ onEnd }"
                />
                <v-btn flat color="warning" @click="clearAuthorSignature">
                  <v-icon left>undo</v-icon>
                  <span>Clear</span>
                </v-btn>
              </v-flex>
            </v-flex>
            <!-- sign -->

            <v-flex xs12>
             <v-flex xs11>
                <h3>Who Approve:</h3>
                <SelectUsers v-on:getUsers="setSigners($event)"
                  label="Select Executive Authority:" multiple />
              </v-flex>
            </v-flex>
        </v-flex>
     

      </v-layout>
    </v-container>
  </div>
</template>

<script>
import Vue from "vue";
import Toolbar from "~/components/FormToolbar";
import SelectUsers from "~/components/SelectUsers";
import Editor from "@tinymce/tinymce-vue";
import store from "~/store/store";
import record from "~/services/docLog";
import { signatureHelpers } from "~/services/helpers";
import VueSignaturePad from "vue-signature-pad";
import { createDoc } from "~/services/DocsService";

Vue.use(VueSignaturePad);
Vue.use(Editor);
export default {
  components: {
    editor: Editor,
    Toolbar,
    SelectUsers
  },
  data() {
    return {
      series: {},
      saveDialog: false,
      attachments: [],
      isFormValid: true,
      status: "",
      iSign: false,
      doc: {
        ref: this.$route.params.ref,
        template: "schemeBClaimForm1",
        author: store.state.user,
        body: {
          address:
            "<h3>The Head of Department</h3><h3>Limpopo Provincial Treasury</h3><h3>Polokwane</h3><h3>0700</h3>",
          attachments: [],
          authorSignature: "",
          signatures: [],
          recipients: [],

          travelling_plan: [{date: "", place: "",  purpose: ""
            , time:""},]
        }
      },
      signature: null,
      snackbarText: "",
      snackbar: false,
      snackbarColor: "success",
      loading: false,
      min_height: 320,
      plugins:
        "fullscreen print preview fullpage searchreplace autolink directionality visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern help",
      toolbar:
        "fullscreen | basicDateButton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat"
    };
  },
  computed: {
    time() {
      return Date.now();
    },
    users() {
      return store.state.users;
    }
  },
  methods: {
    ...signatureHelpers(),
    setRecipients(users) {
      this.doc.recipients = users;
    },
    setSigners(users) {
      this.doc.body.signatures = users;
    },
    onEnd() {
      this.setAuthorSignature();
    }
  },                                                                                                                                                                                                                                                             
    add_travelling_plan() {
       this.doc.body.travelling_plan.push({date: "", place: "",  purpose: ""
            , time:""})
  },

  delete_row(doc, index) {
        if(doc.length != 1 ){
          doc.splice(index, 1)
        }
      },
  created() {
    console.log(store.state.users);
    console.log(this.$route);
  }
};
</script>

<style>
.side-toolbar {
  position: fixed;
  max-width: 180px;
}
.signature-pad {
  max-width: 480px;
  background-color: #fff;
  border: 1px dotted black;
}
 td,
  th {
    border: 1px solid #88ac89;
    text-align: left;
    padding: 8px;

  }

  tr:nth-child(even) {
    background-color: #dddddd;
  }

  .top-th {
    background-color: #1fb638
  }
</style>
